#include "mcdevtool/level.h"
#include <ctime>
#include <iterator>
#include <fstream>
#include <random>
#include <nbt/NBT.hpp>

using namespace nbt::literals;

static int64_t generateRandomSeed() {
    // 使用随机设备初始化 mt19937_64
    static std::random_device                     rd;
    static std::mt19937_64                        gen(rd()); // 64 位 Mersenne Twister
    static std::uniform_int_distribution<int64_t> dist(
        std::numeric_limits<int64_t>::min(),
        std::numeric_limits<int64_t>::max()
    );
    return dist(gen);
}

namespace MCDevTool::Level {
    // 更新level.dat数据中的世界选项
    void updateLevelDatWorldData(
        std::vector<uint8_t>&           levelDatData,
        std::optional<std::string_view> worldName,
        const LevelOptions&             options,
        bool                            init
    ) {
        auto& bytes = levelDatData;
        // 去除header版本信息
        auto content        = std::string_view{reinterpret_cast<const char*>(bytes.data()), bytes.size()};
        auto compoundTagOpt = nbt::io::parseFromContent(content);
        if (!compoundTagOpt.has_value()) {
            throw std::runtime_error("无法解析level.dat模板数据");
        }
        auto& compoundTag = compoundTagOpt.value();
        // 长整型LastPlayed：玩家在最后一次退出游戏时的Unix时间戳（秒）。
        compoundTag["LastPlayed"] = nbt::LongTag(static_cast<int64_t>(std::time(nullptr)));
        // 修改部分字段数据作为新世界模板
        if (worldName.has_value()) {
            compoundTag["LevelName"] = nbt::StringTag(worldName.value());
        }
        // compoundTag["RandomSeed"] = nbt::LongTag(options.seed);
        if (options.worldType != 2 && init) {
            // 仅在非超平坦世界设置随机种子
            if (options.seed.has_value()) {
                compoundTag["RandomSeed"] = nbt::LongTag(options.seed.value());
            } else {
                // 随机生成种子
                compoundTag["RandomSeed"] = nbt::LongTag(generateRandomSeed());
            }
        }
        compoundTag["GameType"] = nbt::IntTag(static_cast<int32_t>(options.gameMode));
        if (init) {
            // 世界类型仅在初始化设置
            compoundTag["Generator"] = nbt::IntTag(static_cast<int32_t>(options.worldType));
        }
        // keepInventory Byte
        compoundTag["keepInventory"] = nbt::ByteTag(options.keepInventory ? 1 : 0);
        // cheatsEnabled Byte
        compoundTag["cheatsEnabled"] = nbt::ByteTag(options.enableCheats ? 1 : 0);
        // doWeatherCycle Byte
        compoundTag["doweathercycle"] = nbt::ByteTag(options.doWeatherCycle ? 1 : 0);
        // doDaylightCycle Byte
        compoundTag["dodaylightcycle"] = nbt::ByteTag(options.doDaylightCycle ? 1 : 0);

        // 处理实验性功能 experiments 键
        if (options.experimentsOptions.enable) {
            // 如果已经存在 experiments 键，则直接更新局部内容，反之则创建新键
            nbt::CompoundTag experimentsTag;
            if (compoundTag.items().contains("experiments")) {
                experimentsTag = compoundTag["experiments"].as<nbt::CompoundTag>();
            }
            experimentsTag["data_driven_biomes"] = nbt::ByteTag(options.experimentsOptions.dataDrivenBiomes ? 1 : 0);
            experimentsTag["data_driven_items"]  = nbt::ByteTag(options.experimentsOptions.dataDrivenItems ? 1 : 0);
            experimentsTag["experimental_molang_features"] =
                nbt::ByteTag(options.experimentsOptions.experimentalMolangFeatures ? 1 : 0);
            compoundTag["experiments"] = std::move(experimentsTag);
        }
        auto release = compoundTag.toBinaryNbtWithHeader();
        // 更新输入数据
        bytes.assign(std::make_move_iterator(release.begin()), std::make_move_iterator(release.end()));
    }

    // 创建一个默认存档level.dat数据
    std::vector<uint8_t> createDefaultLevelDat(std::string_view worldName, const LevelOptions& options) {
        std::vector<uint8_t> bytes = getLevelDatTemplate();
        updateLevelDatWorldData(bytes, worldName, options);
        return bytes;
    }

    // 更新level.dat时间轴为当前时间
    void updateLevelDatLastPlayed(std::vector<uint8_t>& levelDatData) {
        auto content        = std::string_view{reinterpret_cast<const char*>(levelDatData.data()), levelDatData.size()};
        auto compoundTagOpt = nbt::io::parseFromContent(content);
        if (!compoundTagOpt.has_value()) {
            throw std::runtime_error("无法解析level.dat数据");
        }
        auto& compoundTag = compoundTagOpt.value();
        // 更新 LastPlayed 字段
        compoundTag["LastPlayed"] = nbt::LongTag(static_cast<int64_t>(std::time(nullptr)));
        // 重新生成二进制 NBT 数据
        auto release = compoundTag.toBinaryNbtWithHeader();
        // 更新输入数据
        levelDatData.assign(std::make_move_iterator(release.begin()), std::make_move_iterator(release.end()));
    }

    // 更新文件level.dat的时间轴并立即保存
    void updateLevelDatLastPlayedInFile(const std::filesystem::path& filePath) {
        // 读取文件内容
        std::ifstream inputFile(filePath, std::ios::binary);
        if (!inputFile) {
            throw std::runtime_error("无法打开level.dat文件进行读取: " + filePath.string());
        }
        std::vector<uint8_t> fileData((std::istreambuf_iterator<char>(inputFile)), std::istreambuf_iterator<char>());
        inputFile.close();

        // 更新 LastPlayed 字段
        updateLevelDatLastPlayed(fileData);

        // 写回文件
        std::ofstream outputFile(filePath, std::ios::binary | std::ios::trunc);
        if (!outputFile) {
            throw std::runtime_error("无法打开level.dat文件进行写入: " + filePath.string());
        }
        outputFile.write(reinterpret_cast<const char*>(fileData.data()), fileData.size());
        outputFile.close();
    }

    // 更新文件level.dat的世界数据选项并立即保存
    void updateLevelDatWorldDataInFile(
        const std::filesystem::path&    filePath,
        std::optional<std::string_view> worldName,
        const LevelOptions&             options
    ) {
        // 读取文件内容
        std::ifstream inputFile(filePath, std::ios::binary);
        if (!inputFile) {
            throw std::runtime_error("无法打开level.dat文件进行读取: " + filePath.string());
        }
        std::vector<uint8_t> fileData((std::istreambuf_iterator<char>(inputFile)), std::istreambuf_iterator<char>());
        inputFile.close();

        // 更新世界数据选项
        updateLevelDatWorldData(fileData, worldName, options, false);

        // 写回文件
        std::ofstream outputFile(filePath, std::ios::binary | std::ios::trunc);
        if (!outputFile) {
            throw std::runtime_error("无法打开level.dat文件进行写入: " + filePath.string());
        }
        outputFile.write(reinterpret_cast<const char*>(fileData.data()), fileData.size());
        outputFile.close();
    }

    // 获取level.dat模板
    std::vector<uint8_t>& getLevelDatTemplate() {
        static std::vector<uint8_t> levelDatTemplate{
            0x0a, 0x00, 0x00, 0x00, 0x83, 0x0b, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x0d, 0x00, 0x42, 0x69, 0x6f, 0x6d,
            0x65, 0x4f, 0x76, 0x65, 0x72, 0x72, 0x69, 0x64, 0x65, 0x00, 0x00, 0x01, 0x12, 0x00, 0x43, 0x65, 0x6e, 0x74,
            0x65, 0x72, 0x4d, 0x61, 0x70, 0x73, 0x54, 0x6f, 0x4f, 0x72, 0x69, 0x67, 0x69, 0x6e, 0x00, 0x01, 0x1e, 0x00,
            0x43, 0x6f, 0x6e, 0x66, 0x69, 0x72, 0x6d, 0x65, 0x64, 0x50, 0x6c, 0x61, 0x74, 0x66, 0x6f, 0x72, 0x6d, 0x4c,
            0x6f, 0x63, 0x6b, 0x65, 0x64, 0x43, 0x6f, 0x6e, 0x74, 0x65, 0x6e, 0x74, 0x00, 0x03, 0x0a, 0x00, 0x44, 0x69,
            0x66, 0x66, 0x69, 0x63, 0x75, 0x6c, 0x74, 0x79, 0x02, 0x00, 0x00, 0x00, 0x08, 0x0f, 0x00, 0x46, 0x6c, 0x61,
            0x74, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x4c, 0x61, 0x79, 0x65, 0x72, 0x73, 0xfa, 0x00, 0x7b, 0x22, 0x62, 0x69,
            0x6f, 0x6d, 0x65, 0x5f, 0x69, 0x64, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x5f, 0x6c,
            0x61, 0x79, 0x65, 0x72, 0x73, 0x22, 0x3a, 0x5b, 0x7b, 0x22, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x5f, 0x6e, 0x61,
            0x6d, 0x65, 0x22, 0x3a, 0x22, 0x6d, 0x69, 0x6e, 0x65, 0x63, 0x72, 0x61, 0x66, 0x74, 0x3a, 0x62, 0x65, 0x64,
            0x72, 0x6f, 0x63, 0x6b, 0x22, 0x2c, 0x22, 0x63, 0x6f, 0x75, 0x6e, 0x74, 0x22, 0x3a, 0x31, 0x7d, 0x2c, 0x7b,
            0x22, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x5f, 0x6e, 0x61, 0x6d, 0x65, 0x22, 0x3a, 0x22, 0x6d, 0x69, 0x6e, 0x65,
            0x63, 0x72, 0x61, 0x66, 0x74, 0x3a, 0x64, 0x69, 0x72, 0x74, 0x22, 0x2c, 0x22, 0x63, 0x6f, 0x75, 0x6e, 0x74,
            0x22, 0x3a, 0x32, 0x7d, 0x2c, 0x7b, 0x22, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x5f, 0x6e, 0x61, 0x6d, 0x65, 0x22,
            0x3a, 0x22, 0x6d, 0x69, 0x6e, 0x65, 0x63, 0x72, 0x61, 0x66, 0x74, 0x3a, 0x67, 0x72, 0x61, 0x73, 0x73, 0x5f,
            0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x22, 0x2c, 0x22, 0x63, 0x6f, 0x75, 0x6e, 0x74, 0x22, 0x3a, 0x31, 0x7d, 0x5d,
            0x2c, 0x22, 0x65, 0x6e, 0x63, 0x6f, 0x64, 0x69, 0x6e, 0x67, 0x5f, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e,
            0x22, 0x3a, 0x36, 0x2c, 0x22, 0x73, 0x74, 0x72, 0x75, 0x63, 0x74, 0x75, 0x72, 0x65, 0x5f, 0x6f, 0x70, 0x74,
            0x69, 0x6f, 0x6e, 0x73, 0x22, 0x3a, 0x6e, 0x75, 0x6c, 0x6c, 0x2c, 0x22, 0x77, 0x6f, 0x72, 0x6c, 0x64, 0x5f,
            0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x22, 0x3a, 0x22, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x2e,
            0x70, 0x6f, 0x73, 0x74, 0x5f, 0x31, 0x5f, 0x31, 0x38, 0x22, 0x7d, 0x0a, 0x01, 0x0d, 0x00, 0x46, 0x6f, 0x72,
            0x63, 0x65, 0x47, 0x61, 0x6d, 0x65, 0x54, 0x79, 0x70, 0x65, 0x00, 0x03, 0x08, 0x00, 0x47, 0x61, 0x6d, 0x65,
            0x54, 0x79, 0x70, 0x65, 0x01, 0x00, 0x00, 0x00, 0x03, 0x09, 0x00, 0x47, 0x65, 0x6e, 0x65, 0x72, 0x61, 0x74,
            0x6f, 0x72, 0x01, 0x00, 0x00, 0x00, 0x08, 0x10, 0x00, 0x49, 0x6e, 0x76, 0x65, 0x6e, 0x74, 0x6f, 0x72, 0x79,
            0x56, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x06, 0x00, 0x31, 0x2e, 0x32, 0x31, 0x2e, 0x32, 0x01, 0x0a, 0x00,
            0x49, 0x73, 0x48, 0x61, 0x72, 0x64, 0x63, 0x6f, 0x72, 0x65, 0x00, 0x01, 0x0c, 0x00, 0x4c, 0x41, 0x4e, 0x42,
            0x72, 0x6f, 0x61, 0x64, 0x63, 0x61, 0x73, 0x74, 0x01, 0x01, 0x12, 0x00, 0x4c, 0x41, 0x4e, 0x42, 0x72, 0x6f,
            0x61, 0x64, 0x63, 0x61, 0x73, 0x74, 0x49, 0x6e, 0x74, 0x65, 0x6e, 0x74, 0x01, 0x04, 0x0a, 0x00, 0x4c, 0x61,
            0x73, 0x74, 0x50, 0x6c, 0x61, 0x79, 0x65, 0x64, 0x93, 0xcc, 0x04, 0x69, 0x00, 0x00, 0x00, 0x00, 0x08, 0x09,
            0x00, 0x4c, 0x65, 0x76, 0x65, 0x6c, 0x4e, 0x61, 0x6d, 0x65, 0x22, 0x00, 0x4b, 0x49, 0x44, 0xe5, 0x8a, 0xa8,
            0xe4, 0xbd, 0x9c, 0xe4, 0xbc, 0x98, 0xe5, 0x8c, 0x96, 0x55, 0x4c, 0x54, 0x52, 0x41, 0x5f, 0x58, 0xe5, 0xbc,
            0x80, 0xe5, 0x8f, 0x91, 0xe6, 0xb5, 0x8b, 0xe8, 0xaf, 0x95, 0x03, 0x13, 0x00, 0x4c, 0x69, 0x6d, 0x69, 0x74,
            0x65, 0x64, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x4f, 0x72, 0x69, 0x67, 0x69, 0x6e, 0x58, 0x00, 0x00, 0x00, 0x80,
            0x03, 0x13, 0x00, 0x4c, 0x69, 0x6d, 0x69, 0x74, 0x65, 0x64, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x4f, 0x72, 0x69,
            0x67, 0x69, 0x6e, 0x59, 0x00, 0x00, 0x00, 0x80, 0x03, 0x13, 0x00, 0x4c, 0x69, 0x6d, 0x69, 0x74, 0x65, 0x64,
            0x57, 0x6f, 0x72, 0x6c, 0x64, 0x4f, 0x72, 0x69, 0x67, 0x69, 0x6e, 0x5a, 0x00, 0x00, 0x00, 0x80, 0x09, 0x1e,
            0x00, 0x4d, 0x69, 0x6e, 0x69, 0x6d, 0x75, 0x6d, 0x43, 0x6f, 0x6d, 0x70, 0x61, 0x74, 0x69, 0x62, 0x6c, 0x65,
            0x43, 0x6c, 0x69, 0x65, 0x6e, 0x74, 0x56, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x03, 0x05, 0x00, 0x00, 0x00,
            0x01, 0x00, 0x00, 0x00, 0x15, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
            0x00, 0x00, 0x01, 0x0f, 0x00, 0x4d, 0x75, 0x6c, 0x74, 0x69, 0x70, 0x6c, 0x61, 0x79, 0x65, 0x72, 0x47, 0x61,
            0x6d, 0x65, 0x01, 0x01, 0x15, 0x00, 0x4d, 0x75, 0x6c, 0x74, 0x69, 0x70, 0x6c, 0x61, 0x79, 0x65, 0x72, 0x47,
            0x61, 0x6d, 0x65, 0x49, 0x6e, 0x74, 0x65, 0x6e, 0x74, 0x01, 0x03, 0x0b, 0x00, 0x4e, 0x65, 0x74, 0x68, 0x65,
            0x72, 0x53, 0x63, 0x61, 0x6c, 0x65, 0x08, 0x00, 0x00, 0x00, 0x03, 0x0e, 0x00, 0x4e, 0x65, 0x74, 0x77, 0x6f,
            0x72, 0x6b, 0x56, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0xae, 0x02, 0x00, 0x00, 0x03, 0x08, 0x00, 0x50, 0x6c,
            0x61, 0x74, 0x66, 0x6f, 0x72, 0x6d, 0x02, 0x00, 0x00, 0x00, 0x03, 0x17, 0x00, 0x50, 0x6c, 0x61, 0x74, 0x66,
            0x6f, 0x72, 0x6d, 0x42, 0x72, 0x6f, 0x61, 0x64, 0x63, 0x61, 0x73, 0x74, 0x49, 0x6e, 0x74, 0x65, 0x6e, 0x74,
            0x03, 0x00, 0x00, 0x00, 0x04, 0x0a, 0x00, 0x52, 0x61, 0x6e, 0x64, 0x6f, 0x6d, 0x53, 0x65, 0x65, 0x64, 0xda,
            0x83, 0xfb, 0x6a, 0x72, 0x36, 0x25, 0xd5, 0x01, 0x10, 0x00, 0x53, 0x70, 0x61, 0x77, 0x6e, 0x56, 0x31, 0x56,
            0x69, 0x6c, 0x6c, 0x61, 0x67, 0x65, 0x72, 0x73, 0x00, 0x03, 0x06, 0x00, 0x53, 0x70, 0x61, 0x77, 0x6e, 0x58,
            0x00, 0x00, 0x00, 0x80, 0x03, 0x06, 0x00, 0x53, 0x70, 0x61, 0x77, 0x6e, 0x59, 0x00, 0x00, 0x00, 0x80, 0x03,
            0x06, 0x00, 0x53, 0x70, 0x61, 0x77, 0x6e, 0x5a, 0x00, 0x00, 0x00, 0x80, 0x03, 0x0e, 0x00, 0x53, 0x74, 0x6f,
            0x72, 0x61, 0x67, 0x65, 0x56, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x0a, 0x00, 0x00, 0x00, 0x04, 0x04, 0x00,
            0x54, 0x69, 0x6d, 0x65, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0c, 0x00, 0x57, 0x6f, 0x72,
            0x6c, 0x64, 0x56, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x01, 0x00, 0x00, 0x00, 0x03, 0x12, 0x00, 0x58, 0x42,
            0x4c, 0x42, 0x72, 0x6f, 0x61, 0x64, 0x63, 0x61, 0x73, 0x74, 0x49, 0x6e, 0x74, 0x65, 0x6e, 0x74, 0x03, 0x00,
            0x00, 0x00, 0x0a, 0x09, 0x00, 0x61, 0x62, 0x69, 0x6c, 0x69, 0x74, 0x69, 0x65, 0x73, 0x01, 0x0a, 0x00, 0x61,
            0x74, 0x74, 0x61, 0x63, 0x6b, 0x6d, 0x6f, 0x62, 0x73, 0x00, 0x01, 0x0d, 0x00, 0x61, 0x74, 0x74, 0x61, 0x63,
            0x6b, 0x70, 0x6c, 0x61, 0x79, 0x65, 0x72, 0x73, 0x00, 0x01, 0x05, 0x00, 0x62, 0x75, 0x69, 0x6c, 0x64, 0x01,
            0x01, 0x10, 0x00, 0x64, 0x6f, 0x6f, 0x72, 0x73, 0x61, 0x6e, 0x64, 0x73, 0x77, 0x69, 0x74, 0x63, 0x68, 0x65,
            0x73, 0x00, 0x05, 0x08, 0x00, 0x66, 0x6c, 0x79, 0x53, 0x70, 0x65, 0x65, 0x64, 0xcd, 0xcc, 0x4c, 0x3d, 0x01,
            0x06, 0x00, 0x66, 0x6c, 0x79, 0x69, 0x6e, 0x67, 0x00, 0x01, 0x0a, 0x00, 0x69, 0x6e, 0x73, 0x74, 0x61, 0x62,
            0x75, 0x69, 0x6c, 0x64, 0x00, 0x01, 0x0c, 0x00, 0x69, 0x6e, 0x76, 0x75, 0x6c, 0x6e, 0x65, 0x72, 0x61, 0x62,
            0x6c, 0x65, 0x00, 0x01, 0x09, 0x00, 0x6c, 0x69, 0x67, 0x68, 0x74, 0x6e, 0x69, 0x6e, 0x67, 0x00, 0x01, 0x06,
            0x00, 0x6d, 0x61, 0x79, 0x66, 0x6c, 0x79, 0x00, 0x01, 0x04, 0x00, 0x6d, 0x69, 0x6e, 0x65, 0x01, 0x01, 0x02,
            0x00, 0x6f, 0x70, 0x00, 0x01, 0x0e, 0x00, 0x6f, 0x70, 0x65, 0x6e, 0x63, 0x6f, 0x6e, 0x74, 0x61, 0x69, 0x6e,
            0x65, 0x72, 0x73, 0x00, 0x01, 0x08, 0x00, 0x74, 0x65, 0x6c, 0x65, 0x70, 0x6f, 0x72, 0x74, 0x00, 0x05, 0x09,
            0x00, 0x77, 0x61, 0x6c, 0x6b, 0x53, 0x70, 0x65, 0x65, 0x64, 0xcd, 0xcc, 0xcc, 0x3d, 0x00, 0x01, 0x11, 0x00,
            0x62, 0x6f, 0x6e, 0x75, 0x73, 0x43, 0x68, 0x65, 0x73, 0x74, 0x45, 0x6e, 0x61, 0x62, 0x6c, 0x65, 0x64, 0x01,
            0x01, 0x11, 0x00, 0x62, 0x6f, 0x6e, 0x75, 0x73, 0x43, 0x68, 0x65, 0x73, 0x74, 0x53, 0x70, 0x61, 0x77, 0x6e,
            0x65, 0x64, 0x00, 0x01, 0x0d, 0x00, 0x63, 0x68, 0x65, 0x61, 0x74, 0x73, 0x45, 0x6e, 0x61, 0x62, 0x6c, 0x65,
            0x64, 0x00, 0x01, 0x12, 0x00, 0x63, 0x6f, 0x6d, 0x6d, 0x61, 0x6e, 0x64, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x6f,
            0x75, 0x74, 0x70, 0x75, 0x74, 0x01, 0x01, 0x14, 0x00, 0x63, 0x6f, 0x6d, 0x6d, 0x61, 0x6e, 0x64, 0x62, 0x6c,
            0x6f, 0x63, 0x6b, 0x73, 0x65, 0x6e, 0x61, 0x62, 0x6c, 0x65, 0x64, 0x01, 0x01, 0x0f, 0x00, 0x63, 0x6f, 0x6d,
            0x6d, 0x61, 0x6e, 0x64, 0x73, 0x45, 0x6e, 0x61, 0x62, 0x6c, 0x65, 0x64, 0x01, 0x04, 0x0b, 0x00, 0x63, 0x75,
            0x72, 0x72, 0x65, 0x6e, 0x74, 0x54, 0x69, 0x63, 0x6b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03,
            0x0d, 0x00, 0x64, 0x61, 0x79, 0x6c, 0x69, 0x67, 0x68, 0x74, 0x43, 0x79, 0x63, 0x6c, 0x65, 0x00, 0x00, 0x00,
            0x00, 0x01, 0x0f, 0x00, 0x64, 0x6f, 0x64, 0x61, 0x79, 0x6c, 0x69, 0x67, 0x68, 0x74, 0x63, 0x79, 0x63, 0x6c,
            0x65, 0x01, 0x01, 0x0d, 0x00, 0x64, 0x6f, 0x65, 0x6e, 0x74, 0x69, 0x74, 0x79, 0x64, 0x72, 0x6f, 0x70, 0x73,
            0x01, 0x01, 0x0a, 0x00, 0x64, 0x6f, 0x66, 0x69, 0x72, 0x65, 0x74, 0x69, 0x63, 0x6b, 0x01, 0x01, 0x12, 0x00,
            0x64, 0x6f, 0x69, 0x6d, 0x6d, 0x65, 0x64, 0x69, 0x61, 0x74, 0x65, 0x72, 0x65, 0x73, 0x70, 0x61, 0x77, 0x6e,
            0x00, 0x01, 0x0a, 0x00, 0x64, 0x6f, 0x69, 0x6e, 0x73, 0x6f, 0x6d, 0x6e, 0x69, 0x61, 0x01, 0x01, 0x11, 0x00,
            0x64, 0x6f, 0x6c, 0x69, 0x6d, 0x69, 0x74, 0x65, 0x64, 0x63, 0x72, 0x61, 0x66, 0x74, 0x69, 0x6e, 0x67, 0x00,
            0x01, 0x09, 0x00, 0x64, 0x6f, 0x6d, 0x6f, 0x62, 0x6c, 0x6f, 0x6f, 0x74, 0x01, 0x01, 0x0d, 0x00, 0x64, 0x6f,
            0x6d, 0x6f, 0x62, 0x73, 0x70, 0x61, 0x77, 0x6e, 0x69, 0x6e, 0x67, 0x01, 0x01, 0x0b, 0x00, 0x64, 0x6f, 0x74,
            0x69, 0x6c, 0x65, 0x64, 0x72, 0x6f, 0x70, 0x73, 0x01, 0x01, 0x0e, 0x00, 0x64, 0x6f, 0x77, 0x65, 0x61, 0x74,
            0x68, 0x65, 0x72, 0x63, 0x79, 0x63, 0x6c, 0x65, 0x01, 0x01, 0x0e, 0x00, 0x64, 0x72, 0x6f, 0x77, 0x6e, 0x69,
            0x6e, 0x67, 0x64, 0x61, 0x6d, 0x61, 0x67, 0x65, 0x01, 0x03, 0x0f, 0x00, 0x65, 0x64, 0x69, 0x74, 0x6f, 0x72,
            0x57, 0x6f, 0x72, 0x6c, 0x64, 0x54, 0x79, 0x70, 0x65, 0x00, 0x00, 0x00, 0x00, 0x03, 0x08, 0x00, 0x65, 0x64,
            0x75, 0x4f, 0x66, 0x66, 0x65, 0x72, 0x00, 0x00, 0x00, 0x00, 0x01, 0x18, 0x00, 0x65, 0x64, 0x75, 0x63, 0x61,
            0x74, 0x69, 0x6f, 0x6e, 0x46, 0x65, 0x61, 0x74, 0x75, 0x72, 0x65, 0x73, 0x45, 0x6e, 0x61, 0x62, 0x6c, 0x65,
            0x64, 0x00, 0x0a, 0x0b, 0x00, 0x65, 0x78, 0x70, 0x65, 0x72, 0x69, 0x6d, 0x65, 0x6e, 0x74, 0x73, 0x01, 0x24,
            0x00, 0x64, 0x61, 0x74, 0x61, 0x5f, 0x64, 0x72, 0x69, 0x76, 0x65, 0x6e, 0x5f, 0x76, 0x61, 0x6e, 0x69, 0x6c,
            0x6c, 0x61, 0x5f, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x73, 0x5f, 0x61, 0x6e, 0x64, 0x5f, 0x69, 0x74, 0x65, 0x6d,
            0x73, 0x01, 0x01, 0x15, 0x00, 0x65, 0x78, 0x70, 0x65, 0x72, 0x69, 0x6d, 0x65, 0x6e, 0x74, 0x73, 0x5f, 0x65,
            0x76, 0x65, 0x72, 0x5f, 0x75, 0x73, 0x65, 0x64, 0x00, 0x01, 0x1e, 0x00, 0x73, 0x61, 0x76, 0x65, 0x64, 0x5f,
            0x77, 0x69, 0x74, 0x68, 0x5f, 0x74, 0x6f, 0x67, 0x67, 0x6c, 0x65, 0x64, 0x5f, 0x65, 0x78, 0x70, 0x65, 0x72,
            0x69, 0x6d, 0x65, 0x6e, 0x74, 0x73, 0x00, 0x00, 0x01, 0x0a, 0x00, 0x66, 0x61, 0x6c, 0x6c, 0x64, 0x61, 0x6d,
            0x61, 0x67, 0x65, 0x01, 0x01, 0x0a, 0x00, 0x66, 0x69, 0x72, 0x65, 0x64, 0x61, 0x6d, 0x61, 0x67, 0x65, 0x01,
            0x01, 0x0c, 0x00, 0x66, 0x72, 0x65, 0x65, 0x7a, 0x65, 0x64, 0x61, 0x6d, 0x61, 0x67, 0x65, 0x01, 0x03, 0x14,
            0x00, 0x66, 0x75, 0x6e, 0x63, 0x74, 0x69, 0x6f, 0x6e, 0x63, 0x6f, 0x6d, 0x6d, 0x61, 0x6e, 0x64, 0x6c, 0x69,
            0x6d, 0x69, 0x74, 0x10, 0x27, 0x00, 0x00, 0x01, 0x17, 0x00, 0x68, 0x61, 0x73, 0x42, 0x65, 0x65, 0x6e, 0x4c,
            0x6f, 0x61, 0x64, 0x65, 0x64, 0x49, 0x6e, 0x43, 0x72, 0x65, 0x61, 0x74, 0x69, 0x76, 0x65, 0x01, 0x01, 0x15,
            0x00, 0x68, 0x61, 0x73, 0x4c, 0x6f, 0x63, 0x6b, 0x65, 0x64, 0x42, 0x65, 0x68, 0x61, 0x76, 0x69, 0x6f, 0x72,
            0x50, 0x61, 0x63, 0x6b, 0x00, 0x01, 0x15, 0x00, 0x68, 0x61, 0x73, 0x4c, 0x6f, 0x63, 0x6b, 0x65, 0x64, 0x52,
            0x65, 0x73, 0x6f, 0x75, 0x72, 0x63, 0x65, 0x50, 0x61, 0x63, 0x6b, 0x00, 0x01, 0x0e, 0x00, 0x69, 0x6d, 0x6d,
            0x75, 0x74, 0x61, 0x62, 0x6c, 0x65, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x00, 0x01, 0x11, 0x00, 0x69, 0x73, 0x43,
            0x72, 0x65, 0x61, 0x74, 0x65, 0x64, 0x49, 0x6e, 0x45, 0x64, 0x69, 0x74, 0x6f, 0x72, 0x00, 0x01, 0x14, 0x00,
            0x69, 0x73, 0x45, 0x78, 0x70, 0x6f, 0x72, 0x74, 0x65, 0x64, 0x46, 0x72, 0x6f, 0x6d, 0x45, 0x64, 0x69, 0x74,
            0x6f, 0x72, 0x00, 0x01, 0x14, 0x00, 0x69, 0x73, 0x46, 0x72, 0x6f, 0x6d, 0x4c, 0x6f, 0x63, 0x6b, 0x65, 0x64,
            0x54, 0x65, 0x6d, 0x70, 0x6c, 0x61, 0x74, 0x65, 0x00, 0x01, 0x13, 0x00, 0x69, 0x73, 0x46, 0x72, 0x6f, 0x6d,
            0x57, 0x6f, 0x72, 0x6c, 0x64, 0x54, 0x65, 0x6d, 0x70, 0x6c, 0x61, 0x74, 0x65, 0x00, 0x01, 0x13, 0x00, 0x69,
            0x73, 0x52, 0x61, 0x6e, 0x64, 0x6f, 0x6d, 0x53, 0x65, 0x65, 0x64, 0x41, 0x6c, 0x6c, 0x6f, 0x77, 0x65, 0x64,
            0x00, 0x01, 0x10, 0x00, 0x69, 0x73, 0x53, 0x69, 0x6e, 0x67, 0x6c, 0x65, 0x55, 0x73, 0x65, 0x57, 0x6f, 0x72,
            0x6c, 0x64, 0x00, 0x01, 0x1b, 0x00, 0x69, 0x73, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x54, 0x65, 0x6d, 0x70, 0x6c,
            0x61, 0x74, 0x65, 0x4f, 0x70, 0x74, 0x69, 0x6f, 0x6e, 0x4c, 0x6f, 0x63, 0x6b, 0x65, 0x64, 0x00, 0x01, 0x0d,
            0x00, 0x6b, 0x65, 0x65, 0x70, 0x69, 0x6e, 0x76, 0x65, 0x6e, 0x74, 0x6f, 0x72, 0x79, 0x01, 0x09, 0x15, 0x00,
            0x6c, 0x61, 0x73, 0x74, 0x4f, 0x70, 0x65, 0x6e, 0x65, 0x64, 0x57, 0x69, 0x74, 0x68, 0x56, 0x65, 0x72, 0x73,
            0x69, 0x6f, 0x6e, 0x03, 0x05, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x15, 0x00, 0x00, 0x00, 0x02, 0x00,
            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x0e, 0x00, 0x6c, 0x69, 0x67, 0x68, 0x74,
            0x6e, 0x69, 0x6e, 0x67, 0x4c, 0x65, 0x76, 0x65, 0x6c, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0d, 0x00, 0x6c, 0x69,
            0x67, 0x68, 0x74, 0x6e, 0x69, 0x6e, 0x67, 0x54, 0x69, 0x6d, 0x65, 0x00, 0x77, 0x01, 0x00, 0x03, 0x11, 0x00,
            0x6c, 0x69, 0x6d, 0x69, 0x74, 0x65, 0x64, 0x57, 0x6f, 0x72, 0x6c, 0x64, 0x44, 0x65, 0x70, 0x74, 0x68, 0x10,
            0x00, 0x00, 0x00, 0x03, 0x11, 0x00, 0x6c, 0x69, 0x6d, 0x69, 0x74, 0x65, 0x64, 0x57, 0x6f, 0x72, 0x6c, 0x64,
            0x57, 0x69, 0x64, 0x74, 0x68, 0x10, 0x00, 0x00, 0x00, 0x03, 0x15, 0x00, 0x6d, 0x61, 0x78, 0x63, 0x6f, 0x6d,
            0x6d, 0x61, 0x6e, 0x64, 0x63, 0x68, 0x61, 0x69, 0x6e, 0x6c, 0x65, 0x6e, 0x67, 0x74, 0x68, 0xff, 0xff, 0x00,
            0x00, 0x01, 0x0b, 0x00, 0x6d, 0x6f, 0x62, 0x67, 0x72, 0x69, 0x65, 0x66, 0x69, 0x6e, 0x67, 0x01, 0x01, 0x13,
            0x00, 0x6e, 0x61, 0x74, 0x75, 0x72, 0x61, 0x6c, 0x72, 0x65, 0x67, 0x65, 0x6e, 0x65, 0x72, 0x61, 0x74, 0x69,
            0x6f, 0x6e, 0x01, 0x01, 0x12, 0x00, 0x6e, 0x65, 0x74, 0x65, 0x61, 0x73, 0x65, 0x45, 0x6e, 0x63, 0x72, 0x79,
            0x70, 0x74, 0x46, 0x6c, 0x61, 0x67, 0x00, 0x09, 0x1f, 0x00, 0x6e, 0x65, 0x74, 0x65, 0x61, 0x73, 0x65, 0x53,
            0x74, 0x72, 0x6f, 0x6e, 0x67, 0x68, 0x6f, 0x6c, 0x64, 0x53, 0x65, 0x6c, 0x65, 0x63, 0x74, 0x65, 0x64, 0x43,
            0x68, 0x75, 0x6e, 0x6b, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x10, 0x00, 0x70, 0x65, 0x72, 0x6d, 0x69,
            0x73, 0x73, 0x69, 0x6f, 0x6e, 0x73, 0x4c, 0x65, 0x76, 0x65, 0x6c, 0x01, 0x00, 0x00, 0x00, 0x03, 0x16, 0x00,
            0x70, 0x6c, 0x61, 0x79, 0x65, 0x72, 0x50, 0x65, 0x72, 0x6d, 0x69, 0x73, 0x73, 0x69, 0x6f, 0x6e, 0x73, 0x4c,
            0x65, 0x76, 0x65, 0x6c, 0x01, 0x00, 0x00, 0x00, 0x03, 0x19, 0x00, 0x70, 0x6c, 0x61, 0x79, 0x65, 0x72, 0x73,
            0x73, 0x6c, 0x65, 0x65, 0x70, 0x69, 0x6e, 0x67, 0x70, 0x65, 0x72, 0x63, 0x65, 0x6e, 0x74, 0x61, 0x67, 0x65,
            0x64, 0x00, 0x00, 0x00, 0x08, 0x04, 0x00, 0x70, 0x72, 0x69, 0x64, 0x00, 0x00, 0x01, 0x19, 0x00, 0x70, 0x72,
            0x6f, 0x6a, 0x65, 0x63, 0x74, 0x69, 0x6c, 0x65, 0x73, 0x63, 0x61, 0x6e, 0x62, 0x72, 0x65, 0x61, 0x6b, 0x62,
            0x6c, 0x6f, 0x63, 0x6b, 0x73, 0x01, 0x01, 0x03, 0x00, 0x70, 0x76, 0x70, 0x01, 0x05, 0x09, 0x00, 0x72, 0x61,
            0x69, 0x6e, 0x4c, 0x65, 0x76, 0x65, 0x6c, 0x00, 0x00, 0x00, 0x00, 0x03, 0x08, 0x00, 0x72, 0x61, 0x69, 0x6e,
            0x54, 0x69, 0x6d, 0x65, 0x80, 0xbb, 0x00, 0x00, 0x03, 0x0f, 0x00, 0x72, 0x61, 0x6e, 0x64, 0x6f, 0x6d, 0x74,
            0x69, 0x63, 0x6b, 0x73, 0x70, 0x65, 0x65, 0x64, 0x01, 0x00, 0x00, 0x00, 0x01, 0x0d, 0x00, 0x72, 0x65, 0x63,
            0x69, 0x70, 0x65, 0x73, 0x75, 0x6e, 0x6c, 0x6f, 0x63, 0x6b, 0x01, 0x01, 0x1e, 0x00, 0x72, 0x65, 0x71, 0x75,
            0x69, 0x72, 0x65, 0x73, 0x43, 0x6f, 0x70, 0x69, 0x65, 0x64, 0x50, 0x61, 0x63, 0x6b, 0x52, 0x65, 0x6d, 0x6f,
            0x76, 0x61, 0x6c, 0x43, 0x68, 0x65, 0x63, 0x6b, 0x00, 0x01, 0x14, 0x00, 0x72, 0x65, 0x73, 0x70, 0x61, 0x77,
            0x6e, 0x62, 0x6c, 0x6f, 0x63, 0x6b, 0x73, 0x65, 0x78, 0x70, 0x6c, 0x6f, 0x64, 0x65, 0x01, 0x01, 0x13, 0x00,
            0x73, 0x65, 0x6e, 0x64, 0x63, 0x6f, 0x6d, 0x6d, 0x61, 0x6e, 0x64, 0x66, 0x65, 0x65, 0x64, 0x62, 0x61, 0x63,
            0x6b, 0x01, 0x03, 0x14, 0x00, 0x73, 0x65, 0x72, 0x76, 0x65, 0x72, 0x43, 0x68, 0x75, 0x6e, 0x6b, 0x54, 0x69,
            0x63, 0x6b, 0x52, 0x61, 0x6e, 0x67, 0x65, 0x04, 0x00, 0x00, 0x00, 0x01, 0x10, 0x00, 0x73, 0x68, 0x6f, 0x77,
            0x62, 0x6f, 0x72, 0x64, 0x65, 0x72, 0x65, 0x66, 0x66, 0x65, 0x63, 0x74, 0x01, 0x01, 0x0f, 0x00, 0x73, 0x68,
            0x6f, 0x77, 0x63, 0x6f, 0x6f, 0x72, 0x64, 0x69, 0x6e, 0x61, 0x74, 0x65, 0x73, 0x00, 0x01, 0x0e, 0x00, 0x73,
            0x68, 0x6f, 0x77, 0x64, 0x61, 0x79, 0x73, 0x70, 0x6c, 0x61, 0x79, 0x65, 0x64, 0x00, 0x01, 0x11, 0x00, 0x73,
            0x68, 0x6f, 0x77, 0x64, 0x65, 0x61, 0x74, 0x68, 0x6d, 0x65, 0x73, 0x73, 0x61, 0x67, 0x65, 0x73, 0x01, 0x01,
            0x12, 0x00, 0x73, 0x68, 0x6f, 0x77, 0x72, 0x65, 0x63, 0x69, 0x70, 0x65, 0x6d, 0x65, 0x73, 0x73, 0x61, 0x67,
            0x65, 0x73, 0x01, 0x01, 0x08, 0x00, 0x73, 0x68, 0x6f, 0x77, 0x74, 0x61, 0x67, 0x73, 0x01, 0x01, 0x09, 0x00,
            0x73, 0x70, 0x61, 0x77, 0x6e, 0x4d, 0x6f, 0x62, 0x73, 0x00, 0x03, 0x0b, 0x00, 0x73, 0x70, 0x61, 0x77, 0x6e,
            0x72, 0x61, 0x64, 0x69, 0x75, 0x73, 0x0a, 0x00, 0x00, 0x00, 0x01, 0x13, 0x00, 0x73, 0x74, 0x61, 0x72, 0x74,
            0x57, 0x69, 0x74, 0x68, 0x4d, 0x61, 0x70, 0x45, 0x6e, 0x61, 0x62, 0x6c, 0x65, 0x64, 0x00, 0x01, 0x14, 0x00,
            0x74, 0x65, 0x78, 0x74, 0x75, 0x72, 0x65, 0x50, 0x61, 0x63, 0x6b, 0x73, 0x52, 0x65, 0x71, 0x75, 0x69, 0x72,
            0x65, 0x64, 0x00, 0x01, 0x0b, 0x00, 0x74, 0x6e, 0x74, 0x65, 0x78, 0x70, 0x6c, 0x6f, 0x64, 0x65, 0x73, 0x01,
            0x01, 0x15, 0x00, 0x74, 0x6e, 0x74, 0x65, 0x78, 0x70, 0x6c, 0x6f, 0x73, 0x69, 0x6f, 0x6e, 0x64, 0x72, 0x6f,
            0x70, 0x64, 0x65, 0x63, 0x61, 0x79, 0x00, 0x01, 0x13, 0x00, 0x75, 0x73, 0x65, 0x4d, 0x73, 0x61, 0x47, 0x61,
            0x6d, 0x65, 0x72, 0x74, 0x61, 0x67, 0x73, 0x4f, 0x6e, 0x6c, 0x79, 0x00, 0x04, 0x0f, 0x00, 0x77, 0x6f, 0x72,
            0x6c, 0x64, 0x53, 0x74, 0x61, 0x72, 0x74, 0x43, 0x6f, 0x75, 0x6e, 0x74, 0xfe, 0xff, 0xff, 0xff, 0x00, 0x00,
            0x00, 0x00, 0x0a, 0x0e, 0x00, 0x77, 0x6f, 0x72, 0x6c, 0x64, 0x5f, 0x70, 0x6f, 0x6c, 0x69, 0x63, 0x69, 0x65,
            0x73, 0x00, 0x00
        };
        return levelDatTemplate;
    }
} // namespace MCDevTool::Level
